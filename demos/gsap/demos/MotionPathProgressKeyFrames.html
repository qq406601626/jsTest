<!DOCTYPE html>
<html lang="ch">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        body {
            margin: 0;
            padding: 0;
        }

        #motion-path {
            fill: none;
            stroke: gray;
            stroke-miterlimit: 10;
        }

        #target {
            fill: #42a6e0;
        }


    </style>
</head>
<body>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 600">
    <path id="motion-path" d="M138.7,377.4c60.5-58.1,122.4-117.2,198.5-152.5s170.1-43.1,241.3,1.3
	c37.2,23.2,65.1,58.3,97,88.5c135.3,128.2,353,159.7,519,75.2c68.6-34.9,127-86.5,186.1-135.8c29.1-24.3,59.1-48.5,94.2-62.6
	c35.1-14.1,76.7-16.9,109.9,1.3"/>

    <path id="target" d="M42.3,42.3h-84.5v-84.5h84.5V42.3z"/>


</svg>
</body>
<script type="importmap">
    {
        "imports":{
           "gsap":"../lib/gsap/index.js",
           "scrollTrigger":"../lib/gsap/ScrollTrigger.js",
           "motionPathPlugin":"../lib/gsap/MotionPathPlugin.js"
        }
    }
</script>

<script type="module">
    import {gsap} from 'gsap'
    import scrollTrigger from 'scrollTrigger'
    import MotionPathPlugin from 'motionPathPlugin'

    gsap.registerPlugin(scrollTrigger, MotionPathPlugin)

    document.addEventListener("DOMContentLoaded", () => {
        const anim = gsap.to('#target', {
            duration: 1,
            ease: 'none',
            motionPath: {
                path: '#motion-path',
                align: '#motion-path',
                autoRotate: true,
                alignOrigin: [0.5, 0.5]
            },
            paused: true,
        })
        gsap.to(anim,{
            keyframes: {
                progress: [0, 0.5, 0.3, 0.9, 0.2, 0],
                easeEach: "sine.inOut"
            },
            duration: 6,
            repeat: -1,
            repeatDelay: 2
        })
    })
</script>

</html>
