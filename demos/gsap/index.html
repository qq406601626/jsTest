<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        body{
            margin: 0;
            padding: 0;
        }
        .container{
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
            width: 1200px;
            height: 100vh;
            overflow-y: auto;
        }
        .box {
            width: 300px;
            height: 300px;
            background: #00ff0030;
        }
        .animation{
            background: red;
        }
    </style>
</head>
<body>
<div class="container">
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box animation"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
</div>

</body>
<script type="importmap">
    {
        "imports":{
           "gsap":"./lib/gsap/index.js",
           "motionPathPlugin":"./lib/gsap/MotionPathPlugin.js",
           "scrollTrigger":"./lib/gsap/ScrollTrigger.js"
        }
    }
</script>

<script type="module">
    import {gsap} from 'gsap'
    import scrollTrigger from 'scrollTrigger'
    gsap.registerPlugin(scrollTrigger)

    document.addEventListener("DOMContentLoaded", () => {
        const timeLine = gsap.timeline({
            scrollTrigger:{
                trigger: '.animation',
                pin: true, // pin the trigger element while active
                start: 'top top', // when the top of the trigger hits the top of the viewport
                end: '+=500', // end after scrolling 500px beyond the start
                scrub: 1, // smooth scrubbing, takes 1 second to "catch up" to the scrollbar
                snap: {
                    snapTo: 'labels', // snap to the closest label in the timeline
                    duration: { min: 0.2, max: 3 }, // the snap animation should be at least 0.2 seconds, but no more than 3 seconds (determined by velocity)
                    delay: 0.2, // wait 0.2 seconds from the last scroll event before doing the snapping
                    ease: 'power1.inOut' // the ease of the snap animation ("power3" by default)
                }
            }
        })
        // add animations and labels to the timeline
        timeLine.addLabel('start')
            .from('.animation', { scale: 0.3, rotation: 45, autoAlpha: 0 })
        // gsap.to('.animation', {
        //     scrollTrigger: '.animation', // start the animation when ".box" enters the viewport (once)
        //     x: 500
        // });
    })



</script>

</html>
