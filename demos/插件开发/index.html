<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
插件功能开发
</body>
<script>
    // service worker在30秒内如果没有交互，会失活，一旦触发任何chrome的事件监听都会使其激活。
    // 经测试，service worker中的全局变量在失活后会释放，但是因为在触发事件监听后会激活，其全局变量依然可以使用，所以在事件监听中使用全局变量不会有影响。
    // 官网的demo中把变量都存在storage中是因为要存储用户交互产生的数据，所以要数据持久化。
    // 点开service worker的控制台，service worker会一直处于激活状态。
    // popup.html无法内嵌js代码块，只能外链js文件（以通过向脚本标记添加 type="module" 来使用顶级 await）。
    // 无需请求任何权限，即可使用 Tabs API 中的许多方法。但是如果要访问标签页的 title 和 URL等敏感信息，需要"tabs" 权限。
    // host_permissions可以允许service worker想特定域名发起fetch请求。
    // tabs权限和host_permissions之间的主要区别：
    // 1、"tabs" 权限和主机权限都有缺点。
    // 2、"tabs" 权限可让扩展程序读取所有标签页中的敏感数据。随着时间的推移，这些信息可能会被用于收集用户的浏览记录。因此，如果您请求此权限，Chrome 会在【安装】时显示警告消息弹窗。
    // 3、借助host_permissions权限，我们可以向【特定网站】授予提升后的权限，扩展程序可以读取和查询匹配标签页的敏感属性，还可以在这些标签页中注入脚本。用户在【安装】时显示警告消息弹窗。
    // 如果action中配置了弹出式窗口，则不会触发chrome.action.onClicked事件。
</script>
</html>
